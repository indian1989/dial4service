<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dial4Service - India‚Äôs Trusted Local Business Directory</title>

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #f4f6f9;
}

/* ===== HEADER ===== */
.header {
  background: #0a3d62;
  color: #fff;
  padding: 10px 20px;
}

.top-bar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  flex-wrap: wrap;
}

.city-select {
  display: flex;
  align-items: center;
  gap: 10px;
}

.city-select select,
.search-box select,
.search-box input {
  padding: 6px;
  border-radius: 4px;
  border: none;
}

.logo-area {
  text-align: center;
  flex: 1;
}

.logo-area img {
  height: 40px;
  display: none;
}

.logo-area h1 {
  margin: 0;
  font-size: 22px;
}

.tagline {
  font-size: 12px;
}

.menu {
  display: flex;
  gap: 15px;
}

.menu a {
  color: white;
  text-decoration: none;
  font-size: 14px;
}

.dropdown {
  position: relative;
  cursor: pointer;
}

.dropdown-content {
  display: none;
  position: absolute;
  background: white;
  color: black;
  right: 0;
  min-width: 150px;
  box-shadow: 0 0 10px rgba(0,0,0,0.2);
}

.dropdown-content a {
  display: block;
  padding: 8px;
  text-decoration: none;
  color: black;
}

.dropdown:hover .dropdown-content {
  display: block;
}

.search-box {
  margin-top: 10px;
  display: flex;
  gap: 10px;
  justify-content: center;
  flex-wrap: wrap;
}

.search-box button {
  padding: 6px 10px;
  background: #f39c12;
  border: none;
  cursor: pointer;
  border-radius: 4px;
}

/* ===== Banner ===== */
.banner {
  margin: 10px;
  text-align: center;
}

.banner img {
  width: 100%;
  max-height: 120px;
  object-fit: cover;
}

/* ===== Categories ===== */
.categories {
  padding: 20px;
}

.categories h2 {
  text-align: center;
}

.category-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(120px,1fr));
  gap: 15px;
  margin-top: 20px;
}

.category-card {
  background: white;
  padding: 10px;
  text-align: center;
  border-radius: 6px;
  cursor: pointer;
  transition: 0.3s;
}

.category-card:hover {
  background: #dff9fb;
}

.category-card img {
  width: 50px;
  height: 50px;
}

/* ===== Footer ===== */
footer {
  background: #0a3d62;
  color: white;
  text-align: center;
  padding: 20px;
  margin-top: 30px;
}
footer a {
  color: #f39c12;
  text-decoration: none;
  margin: 0 10px;
}
</style>
</head>

<body>

<!-- ================= HEADER ================= -->
<div class="header">
  <div class="top-bar">

    <!-- City + GPS -->
    <div class="city-select">
      <select id="citySelect"></select>
      <button onclick="getLocation()">üìç Near Me</button>
    </div>

    <!-- Logo / Text Rotation -->
    <div class="logo-area">
      <h1 id="siteText">Dial4Service</h1>
      <div class="tagline" id="tagline">India‚Äôs Trusted Local Business Directory</div>
      <img id="logoImg" src="assets/images/logo.png" alt="Logo">
    </div>

    <!-- Menu -->
    <div class="menu">
      <a href="index.html">Home</a>
      <a href="listing.html">All Business</a>
      <a href="provider/register.html">Add Business</a>

      <div class="dropdown">
        Account ‚ñº
        <div class="dropdown-content">
          <strong>User</strong>
          <a href="user/login.html">Login</a>
          <a href="user/register.html">Register</a>
          <hr>
          <strong>Provider</strong>
          <a href="provider/login.html">Login</a>
          <a href="provider/register.html">Register</a>
        </div>
      </div>
<!-- Search -->
  <div class="search-box">
    <select id="categorySelect"></select>
    <button onclick="searchBusiness()">Search</button>
    <button onclick="nearMeSearch()">Near Me Search</button>
  </div>
  </div>
    </div>
  </div>


<!-- ================= Banner ================= -->
<div class="banner">
  <img id="bannerAd" src="assets/images/expert-electricals.jpg">
</div>

<!-- ================= Categories ================= -->
<section class="popular-categories">
  <h2>Popular Categories</h2>
  <div class="category-grid">
<a href="category.html?name=electrician" class="category-card">
<img src="https://cdn-icons-png.flaticon.com/512/1048/1048313.png">
<p>Electrician</p>
</a>

<a href="category.html?name=plumber" class="category-card">
<img src="https://cdn-icons-png.flaticon.com/512/1046/1046857.png">
<p>Plumber</p>
</a>

<a href="category.html?name=electrician" class="category-card">
<img src="https://cdn-icons-png.flaticon.com/512/3209/3209265.png">
<p>Electrician</p>
</a>

<a href="category.html?name=doctor" class="category-card">
<img src="https://cdn-icons-png.flaticon.com/512/3774/3774299.png">
<p>Doctor</p>
</a>

<a href="category.html?name=cleaning-services" class="category-card">
      <img src="https://dial4service-1.onrender.com.r2.cloudflarestorage.com/icons/restaurants.png">
      <p>Cleaning Services</p>
    </a>

<a href="category.html?name=electrician" class="category-card">
<img src="https://cdn-icons-png.flaticon.com/512/1048/1048313.png">
<p>Electrician</p>
</a>

<a href="category.html?name=plumber" class="category-card">
<img src="https://cdn-icons-png.flaticon.com/512/1046/1046857.png">
<p>Plumber</p>
</a>

<a href="category.html?name=electrician" class="category-card">
<img src="https://cdn-icons-png.flaticon.com/512/1048/1048313.png">
<p>Electrician</p>
</a>

<a href="category.html?name=plumber" class="category-card">
<img src="https://cdn-icons-png.flaticon.com/512/1046/1046857.png">
<p>Plumber</p>
</a>

<a href="category.html?name=electrician" class="category-card">
<img src="https://cdn-icons-png.flaticon.com/512/3209/3209265.png">
<p>Electrician</p>
</a>

<a href="category.html?name=doctor" class="category-card">
<img src="https://cdn-icons-png.flaticon.com/512/3774/3774299.png">
<p>Doctor</p>
</a>

<a href="category.html?name=electrician" class="category-card">
<img src="https://cdn-icons-png.flaticon.com/512/1048/1048313.png">
<p>Electrician</p>
</a>

<a href="category.html?name=plumber" class="category-card">
<img src="https://cdn-icons-png.flaticon.com/512/1046/1046857.png">
<p>Plumber</p>
</a>

<a href="category.html?name=electrician" class="category-card">
<img src="https://cdn-icons-png.flaticon.com/512/3209/3209265.png">
<p>Electrician</p>
</a>

<a href="category.html?name=doctor" class="category-card">
<img src="https://cdn-icons-png.flaticon.com/512/3774/3774299.png">
<p>Doctor</p>
</a>

<a href="category.html?name=electrician" class="category-card">
<img src="https://cdn-icons-png.flaticon.com/512/139/139899.png">
<p>Electrician</p>
</a>

<a href="category.html?name=electrician" class="category-card">
<img src="https://cdn-icons-png.flaticon.com/512/1048/1048313.png">
<p>Electrician</p>
</a>

<a href="category.html?name=plumber" class="category-card">
<img src="https://cdn-icons-png.flaticon.com/512/1046/1046857.png">
<p>Plumber</p>
</a>

<a href="category.html?name=electrician" class="category-card">
<img src="https://cdn-icons-png.flaticon.com/512/3209/3209265.png">
<p>Electrician</p>
</a>

<a href="category.html?name=doctor" class="category-card">
<img src="https://cdn-icons-png.flaticon.com/512/3774/3774299.png">
<p>Doctor</p>
</a>

<a href="category.html?name=electrician" class="category-card">
<img src="https://cdn-icons-png.flaticon.com/512/139/139899.png">
<p>Electrician</p>
</a>

<a href="category.html?name=electrician" class="category-card">
<img src="https://cdn-icons-png.flaticon.com/512/139/139899.png">
<p>Electrician</p>
</a>

<a href="category.html?name=electrician" class="category-card">
<img src="https://cdn-icons-png.flaticon.com/512/1048/1048313.png">
<p>Electrician</p>
</a>

<a href="category.html?name=plumber" class="category-card">
<img src="https://cdn-icons-png.flaticon.com/512/1046/1046857.png">
<p>Plumber</p>
</a>

<a href="category.html?name=electrician" class="category-card">
<img src="https://cdn-icons-png.flaticon.com/512/3209/3209265.png">
<p>Electrician</p>
</a>

<a href="category.html?name=doctor" class="category-card">
<img src="https://cdn-icons-png.flaticon.com/512/3774/3774299.png">
<p>Doctor</p>
</a>

<a href="category.html?name=electrician" class="category-card">
<img src="https://cdn-icons-png.flaticon.com/512/139/139899.png">
<p>Electrician</p>
</a>

<a href="category.html?name=electrician" class="category-card">
<img src="https://cdn-icons-png.flaticon.com/512/3209/3209265.png">
<p>Electrician</p>
</a>

<a href="category.html?name=doctor" class="category-card">
<img src="https://cdn-icons-png.flaticon.com/512/3774/3774299.png">
<p>Doctor</p>
</a>

<a href="category.html?name=electrician" class="category-card">
<img src="https://cdn-icons-png.flaticon.com/512/139/139899.png">
<p>Electrician</p>
</a>
</div>
</section>

<!-- ================= Footer ================= -->
<footer>
  <p>¬© 2026 Dial4Service - All Rights Reserved</p>
  <a href="about.html">About</a>
  <a href="contact.html">Contact</a>
  <a href="privacy.html">Privacy</a>
  <a href="terms.html">Terms</a>
  <a href="sitemap.xml">Sitemap</a>
</footer>

<script>
/* ===== Logo Rotation ===== */
let showLogo = false;
setInterval(() => {
  showLogo = !showLogo;
  document.getElementById("logoImg").style.display = showLogo ? "block" : "none";
  document.getElementById("siteText").style.display = showLogo ? "none" : "block";
  document.getElementById("tagline").style.display = showLogo ? "none" : "block";
}, 4000);

/* ===== Load Cities ===== */
fetch("/api/cities")
.then(res => res.json())
.then(data => {
  let citySelect = document.getElementById("citySelect");
  data.data.forEach(city => {
    citySelect.innerHTML += `<option value="${city.slug}">${city.name}</option>`;
  });
});

/* ===== Load Categories ===== */
fetch("/api/categories")
.then(res => res.json())
.then(data => {
  let grid = document.getElementById("categoryGrid");
  let select = document.getElementById("categorySelect");

  data.data.forEach(cat => {
    grid.innerHTML += `
      <div class="category-card" onclick="goCategory('${cat.slug}')">
        <img src="${cat.icon}" alt="${cat.name}">
        <p>${cat.name}</p>
      </div>`;

    select.innerHTML += `<option value="${cat.slug}">${cat.name}</option>`;
  });
});

/* ===== Banner Load ===== */
fetch("/api/advertisements/position/homepage_top")
.then(res => res.json())
.then(data => {
  if(data.data.length > 0){
    document.getElementById("bannerAd").src = data.data[0].image;
  }
});

/* ===== Functions ===== */
function searchBusiness(){
  let city = document.getElementById("citySelect").value;
  let category = document.getElementById("categorySelect").value;
  window.location.href = `search.html?city=${city}&category=${category}`;
}

function nearMeSearch(){
  window.location.href = `search.html?nearMe=true`;
}

function goCategory(slug){
  window.location.href = `category.html?slug=${slug}`;
}

function getLocation(){
  navigator.geolocation.getCurrentPosition(pos=>{
    window.location.href = `search.html?lat=${pos.coords.latitude}&lng=${pos.coords.longitude}`;
  });
}
</script>

</body>
</html>


