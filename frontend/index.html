<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Dial4Service ‚Äì Find Local Services Near You</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{margin:0;font-family:Arial;background:#f4f4f4}
a{text-decoration:none;color:#333}

.top-header{
 display:flex;justify-content:space-between;align-items:center;
 padding:10px 20px;background:#fff;border-bottom:1px solid #ddd
}
.location-box select,.location-box button{padding:6px}
.logo h1{margin:0;color:#0a66c2}
.logo small{font-size:12px;color:#555}
.menu a{margin-left:15px;font-weight:bold}

 .search-box{
  display:flex;
  gap:8px;
  align-items:center;
}

#nearMeBtn{
  background:#28a745;
  color:#fff;
  border:none;
  padding:10px 14px;
  cursor:pointer;
  border-radius:4px;
}

#nearMeBtn:hover{
  background:#1e7e34;
}

.ad-banner{
 margin:15px;background:#fff;padding:10px;text-align:center
}
.ad-banner img{width:100%;height:220px;object-fit:cover}

.section{background:#fff;margin:15px;padding:20px}

.popular-categories{
  padding:30px 0;
}

.popular-categories h2{
  margin-bottom:20px;
}

.category-grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(120px,1fr));
  gap:18px;
}

.category-card{
  background:#fff;
  border-radius:8px;
  text-align:center;
  padding:15px 10px;
  text-decoration:none;
  color:#333;
  transition:0.25s;
}

.category-card:hover{
  box-shadow:0 6px 15px rgba(0,0,0,0.1);
  transform:translateY(-4px);
}

.category-card img{
  width:42px;
  height:42px;
  margin-bottom:8px;
  filter:invert(34%) sepia(92%) saturate(1350%) hue-rotate(197deg);
}

.category-card span{
  display:block;
  font-size:14px;
  font-weight:500;
}

footer{
 background:#222;color:#fff;padding:20px;text-align:center
}
footer a{color:#ccc}
</style>
</head>

<body>

<!-- HEADER -->
<div class="top-header">
  <div class="location-box">
    üìç
    <select id="citySelect"></select>
    <button onclick="detectLocation()">Detect</button>
  </div>

  <div class="logo">
    <h1>Dial4Service</h1>
    <small>Find Trusted Local Services Near You</small>
  </div>

  <div class="menu">
    <a href="index.html">Home</a>
    <a href="search.html">All Businesses</a>
    <a href="provider/login.html">Add Business</a>
    <a href="advertise.html">Advertisement</a>
  </div>

<!-- SEARCH BAR -->
  <input type="text" id="searchKeyword" placeholder="Search for services">

  <button id="searchBtn">Search</button>

  <!-- üìç Search Near Me -->
  <button id="nearMeBtn" title="Search near your location">
    üìç Near Me
  </button>

</div>

<!-- AD BANNER -->
<div class="ad-banner" id="adBanner">
  <p>Loading Advertisement...</p>
</div>

<!-- POPULAR CATEGORIES -->
<section class="popular-categories">
  <h2>Popular Categories</h2>

  <div class="category-grid" id="popularCategories">

    <a href="category.html?slug=electrician" class="category-card">
      <img src="https://unpkg.com/@heroicons/outline@2.0.18/bolt.svg" alt="Electrician">
      <span>Electrician</span>
    </a>

    <a href="category.html?slug=plumber" class="category-card">
      <img src="https://unpkg.com/@heroicons/outline@2.0.18/wrench.svg" alt="Plumber">
      <span>Plumber</span>
    </a>

    <a href="category.html?slug=salon" class="category-card">
      <img src="https://unpkg.com/@heroicons/outline@2.0.18/scissors.svg" alt="Salon">
      <span>Salon</span>
    </a>

    <a href="category.html?slug=ac-repair" class="category-card">
      <img src="https://unpkg.com/@heroicons/outline@2.0.18/snowflake.svg" alt="AC Repair">
      <span>AC Repair</span>
    </a>

    <a href="category.html?slug=carpenter" class="category-card">
      <img src="https://unpkg.com/@heroicons/outline@2.0.18/home-modern.svg" alt="Carpenter">
      <span>Carpenter</span>
    </a>

  </div>
</section>


<!-- FOOTER -->
<footer>
 <p><strong>Dial4Service</strong></p>
 <p>India‚Äôs trusted local service directory</p>
 <p>¬© 2026 Dial4Service</p>
</footer>

<script>
const API = "https://dial4service.onrender.com/api";

/* LOAD CITIES */
fetch(API+"/cities")
.then(r=>r.json())
.then(data=>{
 let opt='<option value="">Select City</option>';
 data.forEach(c=>{
  opt+=`<option value="${c.name}">${c.name}</option>`;
 });
 citySelect.innerHTML=opt;
 searchCity.innerHTML=opt;
});

/* LOAD CATEGORIES */
fetch(API+"/categories")
.then(r=>r.json())
.then(data=>{
 let opt='<option value="">Select Category</option>';
 let cards='';
 data.forEach(cat=>{
  opt+=`<option value="${cat.name}">${cat.name}</option>`;
  cards+=`
   <div class="category" onclick="goCategory('${cat.name}')">
    <img src="${cat.image}">
    <p>${cat.name}</p>
   </div>`;
 });
 searchCategory.innerHTML=opt;
 categoryList.innerHTML=cards;
});

/* LOAD ACTIVE AD */
fetch(API+"/ads/active")
.then(r=>r.json())
.then(ad=>{
 if(!ad) return adBanner.innerHTML="No Advertisement";
 adBanner.innerHTML=`<img src="${ad.image}">`;
});

/* SEARCH */
function search(){
 const city=searchCity.value;
 const cat=searchCategory.value;
 location.href=`search.html?city=${city}&category=${cat}`;
 <button onclick="nearMe()">Near Me</button>

}

function goCategory(cat){
 location.href=`search.html?category=${cat}`;
}

// Normal Search
document.getElementById("searchBtn").addEventListener("click", function(){
  const keyword = searchKeyword.value.trim();
  if(!keyword){
    alert("Please enter search keyword");
    return;
  }
  window.location.href = "search.html?q=" + encodeURIComponent(keyword);
});

// üìç Search Near Me
document.getElementById("nearMeBtn").addEventListener("click", function(){

  if(!navigator.geolocation){
    alert("Geolocation not supported");
    return;
  }

  navigator.geolocation.getCurrentPosition(
    function(position){
      const lat = position.coords.latitude;
      const lng = position.coords.longitude;

      // Redirect with location
      window.location.href =
        `search-near-me.html?lat=${lat}&lng=${lng}`;
    },
    function(){
      alert("Location permission denied");
    }
  );

});

/* LOCATION */
function detectLocation(){
 if(navigator.geolocation){
  navigator.geolocation.getCurrentPosition(()=>{
   alert("Location detected (use near me search)");
  });
 }
}

function nearMe(){
  if(!navigator.geolocation){
    alert("GPS supported nahi hai");
    return;
  }

  navigator.geolocation.getCurrentPosition(
    position=>{
      const lat = position.coords.latitude;
      const lng = position.coords.longitude;

      // search page par redirect
      window.location.href =
        `search.html?lat=${lat}&lng=${lng}`;
    },
    ()=>{
      alert("Location permission allow karein");
    }
  );
}

 // popular categories
 
/*
const categories = [
 {name:"Electrician", slug:"electrician", icon:"bolt"},
 {name:"Plumber", slug:"plumber", icon:"wrench"},
 {name:"Salon", slug:"salon", icon:"scissors"}
];

const box = document.getElementById("popularCategories");
box.innerHTML = "";

categories.forEach(cat=>{
  box.innerHTML += `
    <a href="category.html?slug=${cat.slug}" class="category-card">
      <img src="https://unpkg.com/@heroicons/outline@2.0.18/${cat.icon}.svg">
      <span>${cat.name}</span>
    </a>
  `;
});
*/

</script>


</body>
</html>





