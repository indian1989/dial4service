<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>View Business | Admin</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:Arial, Helvetica, sans-serif;
  background:#f4f6f8;
}
.header{
  background:#111827;
  color:#fff;
  padding:15px 25px;
  font-size:20px;
}
.container{
  padding:20px;
  max-width:1100px;
  margin:auto;
}
.card{
  background:#fff;
  border-radius:8px;
  box-shadow:0 0 10px rgba(0,0,0,.08);
  padding:20px;
  margin-bottom:20px;
}
.title{
  font-size:22px;
  font-weight:bold;
}
.badge{
  padding:5px 10px;
  border-radius:4px;
  font-size:13px;
}
.Approved{background:#d1fae5;color:#065f46}
.Pending{background:#fef3c7;color:#92400e}
.Blocked{background:#fee2e2;color:#991b1b}

.grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(250px,1fr));
  gap:15px;
  margin-top:15px;
}
.label{
  font-size:13px;
  color:#6b7280;
}
.value{
  font-size:15px;
  margin-top:3px;
}

.photos{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
}
.photos img{
  width:120px;
  height:90px;
  object-fit:cover;
  border-radius:5px;
  border:1px solid #ddd;
}

.actions{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
}
.actions button{
  padding:10px 16px;
  border:none;
  border-radius:5px;
  cursor:pointer;
  font-size:14px;
}
.approve{background:#22c55e;color:#fff}
.block{background:#f59e0b;color:#fff}
.delete{background:#ef4444;color:#fff}
.back{background:#6b7280;color:#fff}
</style>
</head>

<body>

<div class="header">Admin Panel â€“ Business Details</div>

<div class="container">

<div class="card">
  <div style="display:flex;justify-content:space-between;flex-wrap:wrap;gap:10px">
    <div class="title" id="bizName">Business Name</div>
    <span class="badge Pending" id="bizStatus">Pending</span>
  </div>

  <div class="grid">
    <div>
      <div class="label">Owner Name</div>
      <div class="value" id="ownerName"></div>
    </div>
    <div>
      <div class="label">Phone</div>
      <div class="value" id="phone"></div>
    </div>
    <div>
      <div class="label">Email</div>
      <div class="value" id="email"></div>
    </div>
    <div>
      <div class="label">Category</div>
      <div class="value" id="category"></div>
    </div>
    <div>
      <div class="label">City</div>
      <div class="value" id="city"></div>
    </div>
    <div>
      <div class="label">Address</div>
      <div class="value" id="address"></div>
    </div>
    <div>
      <div class="label">Plan</div>
      <div class="value" id="plan"></div>
    </div>
    <div>
      <div class="label">Business Timing</div>
      <div class="value" id="timing"></div>
    </div>
  </div>
</div>

<div class="card">
  <div class="label">Business Photos</div>
  <div class="photos" id="photos"></div>
</div>

<div class="card">
  <div class="actions">
    <button class="approve" onclick="approveBiz()">Approve</button>
    <button class="block" onclick="blockBiz()">Block</button>
    <button class="delete" onclick="deleteBiz()">Delete</button>
    <button class="back" onclick="history.back()">Back</button>
  </div>
</div>

</div>

<script>
// ðŸ” Admin Auth Check
if(!localStorage.getItem("adminToken")){
  location.href="login.html";
}

// ðŸ”Ž Get ID from URL
const params = new URLSearchParams(location.search);
const id = params.get("id");

// Dummy Data (backend se aayega)
const business = {
  id:id,
  name:"Rahmat Plumbing Service",
  owner:"Rahmat Hussain",
  phone:"9876543210",
  email:"rahmat@gmail.com",
  category:"Plumber",
  city:"Delhi",
  address:"Street 12, Jamia Nagar",
  plan:"Gold",
  status:"Pending",
  timing:"9:00 AM â€“ 9:00 PM",
  photos:[
    "https://via.placeholder.com/300x200",
    "https://via.placeholder.com/300x200",
    "https://via.placeholder.com/300x200"
  ]
};

// Fill Data
bizName.innerText = business.name;
ownerName.innerText = business.owner;
phone.innerText = business.phone;
email.innerText = business.email;
category.innerText = business.category;
city.innerText = business.city;
address.innerText = business.address;
plan.innerText = business.plan;
timing.innerText = business.timing;

bizStatus.innerText = business.status;
bizStatus.className = "badge "+business.status;

// Photos
photos.innerHTML = "";
business.photos.forEach(p=>{
  photos.innerHTML += `<img src="${p}">`;
});

// Actions
function approveBiz(){
  alert("Business Approved (frontend demo)");
}
function blockBiz(){
  alert("Business Blocked (frontend demo)");
}
function deleteBiz(){
  if(confirm("Delete this business permanently?")){
    alert("Business Deleted (frontend demo)");
  }
}
</script>

</body>
</html>
